<!DOCTYPE html>
<html lang="en" data-theme="dark">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Desktop Portfolio - Mobile Home Prototype (Token-Synced)</title>
    <style>
      /*
        Font-face migration notes
        - These @font-face declarations mirror the fonts already used by the main application.
        - They are duplicated here only so this standalone fixture renders with the same typography when opened directly.
        - During migration into the real app, prefer the app's existing font loading pipeline (main.css / app entry CSS)
          and remove these local fixture declarations to avoid redundant font definitions.
        - Standalone fixture paths intentionally use ../desktop-portfolio/public/... and must be switched back to app-managed paths.
      */
      @font-face {
        font-family : 'Inter';
        font-style  : normal;
        font-weight : 100 900;
        font-display: swap;
        src         : url('../desktop-portfolio/public/fonts/inter-latin-var.woff2') format('woff2');
      }

      @font-face {
        font-family : 'JetBrains Mono';
        font-style  : normal;
        font-weight : 100 800;
        font-display: swap;
        src         : url('../desktop-portfolio/public/fonts/jetbrains-mono-latin-var.woff2') format('woff2');
      }

      @layer fixture-tokens, fixture-base, fixture-shared, fixture-local;

      @layer fixture-tokens {
        /*
          Token migration notes
          - This is a copied subset of main app tokens for standalone rendering fidelity.
          - Replace with the real shared token source when migrating the mobile UI into the app shell.
          - Keep semantic token names stable so fixture-only visual tuning maps cleanly to production variables.
        */
        /* Source sync: desktop-portfolio/src/assets/css/main.css (token subset for standalone fixture) */
        :root {
          --font-sans : 'Inter', ui-sans-serif, system-ui, sans-serif;
          --font-mono : 'JetBrains Mono', ui-monospace, monospace;

          /* Color primitives */
          --c-black        : oklch(0% 0 0);
          --c-white        : oklch(100% 0 0);
          --c-gray-50      : oklch(97% 0.003 250);
          --c-gray-100     : oklch(93% 0.005 250);
          --c-gray-200     : oklch(85% 0.008 250);
          --c-gray-300     : oklch(72% 0.012 250);
          --c-gray-400     : oklch(58% 0.015 250);
          --c-gray-500     : oklch(45% 0.015 250);
          --c-gray-600     : oklch(35% 0.012 250);
          --c-gray-700     : oklch(27% 0.01 250);
          --c-gray-800     : oklch(20% 0.008 250);
          --c-gray-900     : oklch(14% 0.006 250);
          --c-gray-950     : oklch(10% 0.005 250);

          --c-accent       : oklch(68% 0.16 250);
          --c-accent-hover : oklch(73% 0.18 250);
          --c-red          : oklch(62% 0.22 25);
          --c-yellow       : oklch(80% 0.16 85);
          --c-green        : oklch(72% 0.19 145);

          /* Spacing scale */
          --space-1  : 0.25rem;
          --space-2  : 0.5rem;
          --space-3  : 0.75rem;
          --space-4  : 1rem;
          --space-5  : 1.25rem;
          --space-6  : 1.5rem;
          --space-8  : 2rem;
          --space-10 : 2.5rem;
          --space-12 : 3rem;
          --space-16 : 4rem;

          /* Radii */
          --radius-sm   : 0.25rem;
          --radius-md   : 0.5rem;
          --radius-lg   : 0.75rem;
          --radius-xl   : 1rem;
          --radius-2xl  : 1.25rem;
          --radius-full : 9999px;

          /* Typography */
          --text-xs   : 0.6875rem;
          --text-sm   : 0.8125rem;
          --text-base : 0.9375rem;
          --text-lg   : 1.125rem;
          --text-xl   : 1.375rem;
          --text-2xl  : 1.75rem;
          --text-3xl  : 2.25rem;

          --leading-tight   : 1.2;
          --leading-normal  : 1.5;
          --leading-relaxed : 1.65;

          /* Shadows */
          --shadow-sm   : 0 1px 3px oklch(0% 0 0 / 0.15);
          --shadow-md   : 0 4px 12px oklch(0% 0 0 / 0.2);
          --shadow-lg   : 0 8px 28px oklch(0% 0 0 / 0.3);
          --shadow-xl   : 0 12px 40px oklch(0% 0 0 / 0.35);
          --shadow-glow : 0 0 20px oklch(68% 0.16 250 / 0.25);

          /* Z-index scale */
          --z-desktop : 0;
          --z-icons   : 10;
          --z-windows : 100;
          --z-topbar  : 900;
          --z-dock    : 50;
          --z-toast   : 1000;

          /* Motion */
          --ease-out    : cubic-bezier(0.22, 1, 0.36, 1);
          --ease-spring : cubic-bezier(0.34, 1.56, 0.64, 1);
          --dur-fast    : 120ms;
          --dur-normal  : 200ms;
          --dur-slow    : 350ms;
          --dur-theme   : 350ms;
        }

        /* Source sync: desktop-portfolio/src/assets/css/main.css [data-theme="dark"] */
        [data-theme="dark"] {
          --surface-base     : var(--c-gray-950);
          --surface-raised   : oklch(16% 0.008 250 / 0.85);
          --surface-overlay  : oklch(18% 0.01 250 / 0.92);
          --surface-glass    : oklch(14% 0.006 250 / 0.6);
          --surface-window   : oklch(17% 0.008 250);
          --surface-content  : transparent;
          --surface-header   : oklch(15% 0.007 250 / 0.76);

          --text-primary     : var(--c-gray-50);
          --text-secondary   : var(--c-gray-300);
          --text-muted       : var(--c-gray-400);
          /* Compatibility alias for components.css usage (token missing in main.css today) */
          --text-tertiary    : var(--text-secondary);

          --border-subtle    : oklch(30% 0.01 250 / 0.5);
          --border-default   : oklch(35% 0.012 250 / 0.6);

          --icon-selected-bg : oklch(68% 0.16 250 / 0.2);
          --icon-selected-bd : oklch(68% 0.16 250 / 0.5);
          --icon-hover-bg    : oklch(50% 0.01 250 / 0.12);

          --dock-bg          : oklch(12% 0.005 250 / 0.65);
          --dock-item-hover  : oklch(50% 0.01 250 / 0.15);
          --dock-dot         : var(--c-accent);

          --wallpaper-from   : oklch(12% 0.03 270);
          --wallpaper-via    : oklch(15% 0.04 300);
          --wallpaper-to     : oklch(10% 0.02 230);

          --focus-ring       : oklch(68% 0.16 250 / 0.7);
          color-scheme       : dark;
        }

        /* Source sync: desktop-portfolio/src/assets/css/main.css [data-theme="light"] */
        [data-theme="light"] {
          --surface-base     : var(--c-gray-50);
          --surface-raised   : oklch(98% 0.003 250 / 0.9);
          --surface-overlay  : oklch(96% 0.008 330 / 0.96);
          --surface-glass    : oklch(98% 0.006 330 / 0.72);
          --surface-window   : oklch(98.5% 0.006 330);
          --surface-content  : oklch(96% 0.010 330 / 0.95);
          --surface-header   : oklch(94% 0.018 330 / 0.74);

          --text-primary     : var(--c-gray-900);
          --text-secondary   : var(--c-gray-600);
          --text-muted       : var(--c-gray-500);
          /* Compatibility alias for components.css usage (token missing in main.css today) */
          --text-tertiary    : var(--text-secondary);

          --border-subtle    : oklch(82% 0.008 250 / 0.5);
          --border-default   : oklch(75% 0.01 250 / 0.5);

          --icon-selected-bg : oklch(68% 0.16 250 / 0.12);
          --icon-selected-bd : oklch(68% 0.16 250 / 0.4);
          --icon-hover-bg    : oklch(50% 0.01 250 / 0.08);

          --dock-bg          : oklch(96% 0.003 250 / 0.75);
          --dock-item-hover  : oklch(50% 0.01 250 / 0.1);
          --dock-dot         : var(--c-accent);

          --wallpaper-from   : oklch(88% 0.04 270);
          --wallpaper-via    : oklch(82% 0.05 300);
          --wallpaper-to     : oklch(90% 0.03 230);

          --focus-ring       : oklch(55% 0.18 250 / 0.6);
          color-scheme       : light;
        }
      }

      @layer fixture-base {
        /* Source sync: desktop-portfolio/src/assets/css/main.css (base subset) */
        *,
        *::before,
        *::after {
          box-sizing    : border-box;
          margin        : 0;
          padding       : 0;
          border        : 0;
          border-radius : 0;
        }

        html {
          -webkit-text-size-adjust : 100%;
          text-size-adjust         : 100%;
        }

        html,
        body {
          min-block-size : 100%;
        }

        body {
          font-family              : var(--font-sans);
          font-size                : var(--text-base);
          line-height              : var(--leading-normal);
          color                    : var(--text-primary);
          background               : var(--surface-base);
          -webkit-font-smoothing   : antialiased;
          -moz-osx-font-smoothing  : grayscale;
        }

        img,
        svg,
        canvas {
          display   : block;
          max-width : 100%;
        }

        button {
          font       : inherit;
          color      : inherit;
          cursor     : pointer;
          background : transparent;
        }

        a {
          color           : inherit;
          text-decoration : none;
        }

        ul,
        ol {
          list-style : none;
        }

        .mono {
          font-family : var(--font-mono);
        }

        :focus-visible {
          outline        : 2px solid var(--focus-ring);
          outline-offset : 2px;
        }

        :focus:not(:focus-visible) {
          outline : none;
        }

        ::selection {
          background : oklch(68% 0.16 250 / 0.3);
          color      : var(--text-primary);
        }
      }

      @layer fixture-shared {
        /*
          Shared component contract copies (from src/assets/css/components.css)
          - These copied blocks intentionally preserve class names so markup can be migrated with minimal churn.
          - When this prototype moves into the main app, remove duplicated CSS and rely on the real shared stylesheet.
          - Keep only truly mobile-specific overrides/variants in the migrated mobile component.
        */
        /* Source sync: desktop-portfolio/src/assets/css/components.css (.desktop-area, .desktop-vignette) */
        .desktop-area {
          position   : relative;
          overflow   : hidden;
          background : transparent;
        }

        .desktop-vignette {
          position       : absolute;
          inset          : 0;
          pointer-events : none;
          background     : radial-gradient(
            ellipse at 50% 50%,
            transparent 50%,
            oklch(0% 0 0 / 0.3) 100%
          );
        }

        /* Source sync: desktop-portfolio/src/assets/css/components.css (.topbar*, .locale-toggle*) */
        .topbar {
          display          : flex;
          align-items      : center;
          justify-content  : space-between;
          gap              : var(--space-2);
          padding-inline   : var(--space-4);
          padding-block    : var(--space-1);
          block-size       : 2rem;
          position         : relative;
          z-index          : var(--z-topbar);
          background       : var(--surface-glass);
          border-block-end : 1px solid var(--border-subtle);
          font-size        : var(--text-sm);
          user-select      : none;
        }

        .topbar-group {
          display     : flex;
          align-items : center;
          gap         : var(--space-3);
        }

        .topbar-group--right {
          gap : var(--space-2);
        }

        .topbar-brand {
          font-weight    : 700;
          letter-spacing : -0.01em;
        }

        .topbar-icon-btn {
          display         : inline-flex;
          align-items     : center;
          justify-content : center;
          inline-size     : 1.5rem;
          block-size      : 1.5rem;
          border-radius   : var(--radius-sm);
          font-size       : var(--text-sm);
          color           : var(--text-secondary);
          transition      : background var(--dur-fast) var(--ease-out),
                            color var(--dur-fast) var(--ease-out);
        }

        .topbar-icon-btn:hover {
          background : var(--icon-hover-bg);
          color      : var(--text-primary);
        }

        .topbar-icon-btn svg {
          inline-size : 0.8125rem;
          block-size  : 0.8125rem;
        }

        .locale-toggle {
          display       : inline-flex;
          align-items   : center;
          border-radius : var(--radius-sm);
          background    : var(--icon-hover-bg);
          overflow      : hidden;
        }

        .locale-toggle-btn {
          display         : inline-flex;
          align-items     : center;
          justify-content : center;
          padding-inline  : var(--space-2);
          padding-block   : 0.125rem;
          font-size       : var(--text-xs);
          font-weight     : 600;
          color           : var(--text-tertiary);
          opacity         : 0.45;
          transition      : background var(--dur-fast) var(--ease-out),
                            color var(--dur-fast) var(--ease-out),
                            opacity var(--dur-fast) var(--ease-out);
        }

        .locale-toggle-btn:hover:not(.locale-toggle-btn--active) {
          opacity : 0.7;
        }

        .locale-toggle-btn--active {
          color   : var(--text-primary);
          opacity : 1;
        }

        /* Source sync: desktop-portfolio/src/assets/css/components.css (.desktop-icon*, .icon-sprite*) */
        .desktop-icon {
          position       : absolute;
          display        : flex;
          flex-direction : column;
          align-items    : center;
          gap            : var(--space-1);
          padding        : var(--space-1);
          border-radius  : var(--radius-lg);
          inline-size    : 5.5rem;
          z-index        : var(--z-icons);
          cursor         : default;
          user-select    : none;
          touch-action   : manipulation;
          transition     : background var(--dur-fast) var(--ease-out),
                           box-shadow var(--dur-fast) var(--ease-out),
                           transform var(--dur-fast) var(--ease-out),
                           border-color var(--dur-fast) var(--ease-out);
        }

        .desktop-icon:hover {
          background : var(--icon-hover-bg);
        }

        .desktop-icon--selected {
          background : var(--icon-selected-bg);
          box-shadow : inset 0 0 0 1.5px var(--icon-selected-bd);
        }

        .desktop-icon-glyph {
          font-size   : 3.25rem;
          line-height : 1;
        }

        .icon-sprite {
          --sprite-cols     : 4;
          --sprite-rows     : 3;
          --sprite-cell-w   : 210px;
          --sprite-cell-h   : 200px;
          --sprite-pad      : 4px;
          --sprite-col      : 0;
          --sprite-row      : 0;
          --sprite-icon-w   : calc(var(--sprite-cell-w) - (var(--sprite-pad) * 2));
          --sprite-icon-h   : calc(var(--sprite-cell-h) - (var(--sprite-pad) * 2));
          --sprite-target-w : 48px;
          --sprite-sheet-w  : calc(var(--sprite-cols) * var(--sprite-cell-w));
          --sprite-sheet-h  : calc(var(--sprite-rows) * var(--sprite-cell-h));
          --sprite-scale    : calc(var(--sprite-target-w) / var(--sprite-icon-w));

          display             : inline-block;
          inline-size         : var(--sprite-target-w);
          block-size          : calc(var(--sprite-icon-h) * var(--sprite-scale));
          flex-shrink         : 0;
          background-image    : var(--desktop-sprite-url);
          background-repeat   : no-repeat;
          background-size     : calc(var(--sprite-sheet-w) * var(--sprite-scale))
                                calc(var(--sprite-sheet-h) * var(--sprite-scale));
          background-position : calc((var(--sprite-col) * var(--sprite-cell-w) + var(--sprite-pad)) * -1 * var(--sprite-scale))
                                calc((var(--sprite-row) * var(--sprite-cell-h) + var(--sprite-pad)) * -1 * var(--sprite-scale));
        }

        .desktop-icon-sprite {
          --sprite-target-w : 48px;
        }

        .dock-icon-sprite {
          --sprite-target-w : 48px;
        }

        .icon-sprite--joystick {
          --sprite-col : 0;
          --sprite-row : 0;
        }

        .icon-sprite--video {
          --sprite-col : 1;
          --sprite-row : 0;
        }

        .icon-sprite--terminal {
          --sprite-col : 2;
          --sprite-row : 0;
        }

        .icon-sprite--social-github {
          --sprite-col : 3;
          --sprite-row : 0;
        }

        .icon-sprite--profile {
          --sprite-col : 0;
          --sprite-row : 1;
        }

        .icon-sprite--trashcan {
          --sprite-col : 1;
          --sprite-row : 1;
        }

        .icon-sprite--projects {
          --sprite-col : 2;
          --sprite-row : 1;
        }

        .icon-sprite--social-x {
          --sprite-col : 3;
          --sprite-row : 1;
        }

        .icon-sprite--music {
          --sprite-col : 0;
          --sprite-row : 2;
        }

        .icon-sprite--social-linkedin {
          --sprite-col : 1;
          --sprite-row : 2;
        }

        .icon-sprite--resume {
          --sprite-col : 2;
          --sprite-row : 2;
        }

        .desktop-icon-img {
          inline-size   : 48px;
          block-size    : 48px;
          border-radius : var(--radius-xl);
          object-fit    : contain;
          padding       : 0.5rem;
          background    : oklch(98% 0.005 250 / 0.85);
          box-shadow    : 0 1px 4px oklch(0% 0 0 / 0.15);
        }

        .desktop-icon-img[src*="terminal"] {
          background : transparent;
          padding    : 0;
          box-shadow : none;
        }

        .desktop-icon-img[src*="profile"] {
          padding    : 0;
          background : transparent;
          box-shadow : none;
        }

        .dock-icon-img[src*="profile"] {
          padding     : 0;
          background  : transparent;
          inline-size : 48px;
          block-size  : 48px;
        }

        .dock-icon-img {
          inline-size   : 48px;
          block-size    : 48px;
          border-radius : var(--radius-lg);
          object-fit    : contain;
          padding       : 0.3rem;
          background    : oklch(98% 0.005 250 / 0.85);
        }

        .dock-icon-img[src*="terminal"] {
          background  : transparent;
          padding     : 0;
          inline-size : 48px;
          block-size  : 48px;
        }

        .dock-icon-img[src*="x.svg"],
        .dock-icon-img[src*="linkedin"],
        .dock-icon-img[src*="github"] {
          inline-size : 48px;
          block-size  : 48px;
        }

        .desktop-icon-label {
          font-size       : var(--text-xs);
          font-weight     : 600;
          text-align      : center;
          color           : var(--c-white);
          text-shadow     : 0 1px 2px oklch(0% 0 0 / 0.5);
          overflow        : hidden;
          text-overflow   : ellipsis;
          white-space     : nowrap;
          max-inline-size : 100%;
        }

        /* Source sync: desktop-portfolio/src/assets/css/components.css (.dock*) */
        .dock {
          display         : flex;
          justify-content : center;
          padding-block   : var(--space-2);
          padding-inline  : var(--space-4);
          position        : relative;
          z-index         : var(--z-dock);
        }

        .dock-tray {
          display        : flex;
          align-items    : center;
          gap            : var(--space-2);
          padding-inline : var(--space-3);
          padding-block  : var(--space-2);
          border-radius  : var(--radius-2xl);
          background     : var(--dock-bg);
          border         : 1px solid var(--border-subtle);
          box-shadow     : var(--shadow-lg);
        }

        .dock-launch {
          position        : relative;
          display         : flex;
          align-items     : center;
          justify-content : center;
          inline-size     : 3.75rem;
          block-size      : 3.75rem;
          border-radius   : var(--radius-lg);
          font-size       : 2.5rem;
          transition      : background var(--dur-fast) var(--ease-out),
                            transform var(--dur-fast) var(--ease-spring),
                            opacity var(--dur-fast) var(--ease-out);
        }

        .dock-launch:hover {
          background : var(--dock-item-hover);
          transform  : translateY(-4px) scale(1.1);
        }

        .dock-launch:active {
          transform : translateY(-2px) scale(1.05);
        }

        .dock-launch-icon {
          line-height : 1;
          font-size   : 3rem;
          filter      : drop-shadow(0 1px 2px oklch(0% 0 0 / 0.2));
        }

        .dock-tooltip {
          position           : absolute;
          inset-block-start  : -1.5rem;
          inset-inline-start : 50%;
          translate          : -50% 0;
          padding-inline     : var(--space-2);
          padding-block      : 0.125rem;
          border-radius      : var(--radius-sm);
          background         : var(--surface-overlay);
          border             : 1px solid var(--border-subtle);
          font-size          : var(--text-xs);
          font-weight        : 500;
          color              : var(--text-primary);
          white-space        : nowrap;
          opacity            : 0;
          pointer-events     : none;
          transition         : opacity var(--dur-fast) var(--ease-out),
                               translate var(--dur-fast) var(--ease-out);
        }

        .dock-launch:hover .dock-tooltip {
          opacity   : 1;
          translate : -50% -4px;
        }

        .dock-separator {
          inline-size   : 2px;
          block-size    : 2rem;
          margin-inline : var(--space-2);
          background    : oklch(60% 0.01 250 / 0.4);
          border-radius : 1px;
          flex-shrink   : 0;
        }

        .dock-window-dot {
          position           : absolute;
          inset-block-end    : 0;
          inset-inline-start : 50%;
          translate          : -50% 0;
          inline-size        : 0.25rem;
          block-size         : 0.25rem;
          border-radius      : var(--radius-full);
          background         : var(--dock-dot);
          opacity            : 0.8;
          transition         : opacity var(--dur-fast) var(--ease-out);
        }

        .dock-launch--active {
          background : var(--icon-selected-bg);
        }

        .dock-launch--active .dock-window-dot {
          opacity : 1;
        }

        .dock-launch--minimized {
          opacity : 0.55;
        }

        /*
          Source sync: desktop-portfolio/src/assets/css/components.css (.toast)
          Migration note:
          - This is the desktop/shared toast contract baseline.
          - The mobile fixture adds `.toast.mobile` later to change placement/animation only (top overlay notification style).
          - In production mobile integration, use the existing toast source (useToast/App.vue) and keep `.toast` contract parity.
        */
        .toast {
          position         : fixed;
          inset-block-end  : var(--space-16);
          inset-inline-end : var(--space-6);
          z-index          : var(--z-toast);
          padding-inline   : var(--space-4);
          padding-block    : var(--space-3);
          border-radius    : var(--radius-lg);
          background       : var(--surface-overlay);
          border           : 1px solid var(--border-subtle);
          box-shadow       : var(--shadow-md);
          font-size        : var(--text-sm);
          color            : var(--text-primary);
          animation        : toast-in var(--dur-slow) var(--ease-spring) both;
          max-inline-size  : 20rem;
        }

        /* Source sync: desktop-portfolio/src/assets/css/components.css (.sr-only) */
        .sr-only {
          position    : absolute;
          inline-size : 1px;
          block-size  : 1px;
          padding     : 0;
          margin      : -1px;
          overflow    : hidden;
          clip        : rect(0, 0, 0, 0);
          white-space : nowrap;
          border      : 0;
        }
      }

      @layer fixture-local {
        /* Fixture-only layout scaffolding for the standalone mobile home preview */
        .fixture-preview-body {
          min-block-size : 100dvh;
          display        : grid;
          place-items    : center;
          padding        : 0;
          background     : oklch(0% 0 0);
          overflow       : hidden;
        }

        .mobile-root {
          display        : flex;
          flex-direction : column;
          min-block-size : 100dvh;
          background     : var(--surface-base);
          color          : var(--text-primary);
        }

        .mobile-root--preview {
          inline-size    : min(100%, 430px);
          block-size     : 100dvh;
          max-inline-size: 430px;
          margin-inline  : auto;
          box-shadow     : 0 18px 52px oklch(0% 0 0 / 0.45);
        }

        .mobile-home-shell {
          position        : relative;
          isolation       : isolate;
          display         : grid;
          grid-template-rows: auto 1fr auto;
          inline-size     : 100%;
          block-size      : 100%;
          overflow        : hidden;
          background-image: linear-gradient(135deg, #1a0a35, #9964ac);
          background-color: #1a0a35;
        }

        /* Standalone asset paths use ../desktop-portfolio/public/... and should switch to app-root paths when migrated into Vite. */
        .mobile-home-shell::before,
        .mobile-home-shell::after {
          content        : '';
          position       : absolute;
          inset          : 0;
          z-index        : 0;
          pointer-events : none;
        }

        .mobile-home-shell::before {
          background-image: image-set(
            url('../desktop-portfolio/public/wallpaper-mobile-left.avif') type('image/avif'),
            url('../desktop-portfolio/public/wallpaper-mobile-left.webp') type('image/webp')
          );
          background-size      : cover;
          background-position  : center center;
          background-repeat    : no-repeat;
          transform            : scale(1.02);
          filter               : saturate(1.04);
          opacity              : 1;
        }

        .mobile-home-shell::after {
          background : none;
        }

        .mobile-home-shell > * {
          position : relative;
          z-index  : 1;
          min-inline-size : 0;
        }

        .topbar.mobile {
          backdrop-filter           : blur(16px) saturate(1.3);
          -webkit-backdrop-filter   : blur(16px) saturate(1.3);
        }

        /*
          Fixture-only desktop simulation affordance:
          show pointer cursors on interactive controls/icons when testing this mobile mock in a desktop browser.
        */
        .mobile-home-shell .topbar-icon-btn,
        .mobile-home-shell .locale-toggle-btn,
        .mobile-home-shell .desktop-icon--mobile-grid,
        .mobile-home-shell .dock-launch {
          cursor : pointer;
        }

        .mobile-home-shell .dock-launch:disabled {
          cursor : not-allowed;
        }

        /*
          Mobile notification-style toast overlay (fixture variant of shared .toast).
          Migration note:
          - Keep `.toast` as the shared contract and treat `.mobile` as the variant for placement/interaction.
          - This variant is intentionally top-overlay + swipe-dismiss to mimic mobile notifications.
          - Color palette below intentionally mirrors the main app `.notification-toast` styles from components.css
            (background/border/text tokens), while layout/placement remains mobile-specific.
          - Hook it to the real toast composable state instead of fixture JS timers when migrating.
        */
        .mobile-toast-stack {
          position            : absolute;
          inset-block-start   : calc(env(safe-area-inset-top, 0px) + var(--space-2));
          inset-inline        : var(--space-3);
          inset-block-end     : auto;
          z-index             : calc(var(--z-toast) + 1);
          display             : grid;
          align-content       : start;
          gap                 : var(--space-2);
          pointer-events      : none;
        }

        .toast.mobile {
          position            : relative;
          /* Reset shared `.toast` fixed-position offsets so stacked toasts render inside `.mobile-toast-stack`. */
          inset-block         : auto;
          inset-inline        : auto;
          inset-block-start   : auto;
          inset-block-end     : auto;
          inset-inline-start  : auto;
          inset-inline-end    : auto;
          max-inline-size     : none;
          display             : grid;
          gap                 : 0.125rem;
          padding             : var(--space-3);
          border-radius       : var(--radius-xl);
          background          : var(--surface-overlay);
          border              : 1px solid var(--border-default);
          box-shadow          : var(--shadow-lg);
          backdrop-filter     : blur(18px) saturate(1.2);
          -webkit-backdrop-filter: blur(18px) saturate(1.2);
          pointer-events      : auto;
          cursor              : grab;
          touch-action        : pan-y;
          animation           : none;
          opacity             : 0;
          transform           : translate3d(0, calc(-100% - var(--space-3)), 0);
          transition          : opacity var(--dur-normal) var(--ease-out),
                                transform var(--dur-normal) var(--ease-spring);
        }

        /*
          Stacked follow-up notifications should not animate through the previous toast's visual space.
          Use a small local offset for secondary entries so the top toast does not appear to "vanish" under the new one.
        */
        .toast.mobile[data-visible="false"][data-entry-origin="stack"] {
          transform : translate3d(0, -0.4rem, 0);
        }

        .toast.mobile[data-visible="true"] {
          opacity         : 1;
          transform       : translate3d(0, 0, 0);
          pointer-events  : auto;
        }

        .toast.mobile[data-clickable="true"] {
          cursor : pointer;
        }

        .toast.mobile:active {
          cursor : grabbing;
        }

        .toast.mobile[data-closing="true"] {
          pointer-events : none;
        }

        .mobile-toast-meta {
          display         : flex;
          align-items     : center;
          justify-content : space-between;
          gap             : var(--space-2);
          font-size       : var(--text-xs);
          color           : var(--text-muted);
        }

        .mobile-toast-app {
          font-weight : 600;
          color       : var(--text-secondary);
        }

        .mobile-toast-time {
          font-family : var(--font-mono);
        }

        .mobile-toast-title {
          font-size   : var(--text-sm);
          font-weight : 700;
          color       : var(--text-primary);
          line-height : var(--leading-tight);
        }

        .mobile-toast-message {
          font-size   : var(--text-sm);
          line-height : var(--leading-relaxed);
          color       : var(--text-secondary);
        }

        /*
          Fixture-only CTA cue bars for clickable mobile notifications.
          Migration note:
          - The real mobile notification implementation can keep one CTA cue style after UX review.
          - This fixture renders multiple compact variants in a single toast to compare styles quickly.
          - The entire toast remains the click target; these bars are visual affordances only.
        */
        .mobile-toast-cta-list {
          display            : grid;
          gap                : 0.375rem;
          margin-block-start : var(--space-2);
          pointer-events     : none;
        }

        .mobile-toast-cta-list[hidden] {
          display : none;
        }

        .mobile-toast-cta-bar {
          display         : flex;
          align-items     : center;
          justify-content : space-between;
          gap             : 0.5rem;
          min-block-size  : 1.5rem;
          padding-inline  : 0.625rem;
          border-radius   : 999px;
          border          : 1px solid transparent;
          font-size       : var(--text-xs);
          line-height     : 1;
          color           : var(--text-secondary);
          user-select     : none;
        }

        .mobile-toast-cta-bar--soft {
          background   : oklch(100% 0 0 / 0.07);
          border-color : oklch(100% 0 0 / 0.06);
        }

        .mobile-toast-cta-bar--outline {
          background   : transparent;
          border-color : var(--border-default);
        }

        .mobile-toast-cta-bar--accent {
          background   : var(--icon-selected-bg);
          border-color : oklch(100% 0 0 / 0.08);
          color        : var(--text-primary);
        }

        .mobile-toast-cta-bar-label {
          display         : inline-flex;
          align-items     : center;
          gap             : 0.35rem;
          min-inline-size : 0;
          white-space     : nowrap;
          font-weight     : 600;
        }

        .mobile-toast-cta-bar-icon {
          inline-size   : 0.9rem;
          block-size    : 0.9rem;
          display       : inline-grid;
          place-items   : center;
          border-radius : 999px;
          font-size     : 0.75rem;
          background    : oklch(100% 0 0 / 0.08);
          color         : currentColor;
          flex-shrink   : 0;
        }

        .mobile-toast-cta-bar--accent .mobile-toast-cta-bar-icon {
          background : oklch(100% 0 0 / 0.14);
        }

        .mobile-toast-cta-bar-trailing {
          color       : var(--text-muted);
          font-size   : 0.7rem;
          white-space : nowrap;
        }

        .mobile-toast-cta-bar--accent .mobile-toast-cta-bar-trailing {
          color : color-mix(in oklab, var(--text-primary) 82%, transparent);
        }

        .mobile-home-main {
          position       : relative;
          min-block-size : 0;
          min-inline-size: 0;
          /*
            Mobile layer order (fixture parity with app z-scale):
            desktop grid/vignette < app surface window/card < toast notifications.
          */
          isolation      : isolate;
        }

        .mobile-home-scroll {
          position              : relative;
          z-index               : var(--z-desktop);
          block-size            : 100%;
          min-inline-size       : 0;
          overflow-y            : auto;
          overflow-x            : hidden;
          display               : flex;
          flex-direction        : column;
          gap                   : var(--space-6);
          padding-inline        : var(--space-4);
          padding-block-start   : var(--space-8);
          padding-block-end     : var(--space-8);
          scrollbar-width       : none;
          -ms-overflow-style    : none;
          -webkit-overflow-scrolling: touch;
        }

        .mobile-home-scroll::-webkit-scrollbar {
          display : none;
        }

        .mobile-root[data-mobile-app-state="expanded"] .mobile-home-scroll {
          /* Keep the desktop rendered behind the app card so swipe-left close reveals what's underneath. */
          visibility      : visible;
          pointer-events  : none;
        }

        .app-window-content.mobile {
          position                  : absolute;
          inset                     : 0;
          z-index                   : var(--z-windows);
          min-inline-size           : 0;
          overflow-y                : auto;
          overscroll-behavior       : contain;
          padding                   : var(--space-4);
          background                : linear-gradient(
                                        180deg,
                                        oklch(15% 0.008 250) 0%,
                                        oklch(17% 0.008 250) 100%
                                      );
          border-block-start        : 1px solid oklch(100% 0 0 / 0.03);
          opacity                   : 0;
          translate                 : 0 0.75rem;
          pointer-events            : none;
          transition                : opacity var(--dur-normal) var(--ease-out),
                                      translate var(--dur-normal) var(--ease-out);
          scrollbar-width           : thin;
          scrollbar-color           : var(--icon-selected-bg) transparent;
          -webkit-overflow-scrolling: touch;
          touch-action              : pan-y;
          transform-origin          : 50% 45%;
        }

        .app-window-content.mobile::-webkit-scrollbar {
          inline-size : 8px;
        }

        .app-window-content.mobile::-webkit-scrollbar-track {
          background : transparent;
        }

        .app-window-content.mobile::-webkit-scrollbar-thumb {
          background    : var(--icon-selected-bg);
          border-radius : 999px;
        }

        .mobile-root[data-mobile-app-state="expanded"] .app-window-content.mobile {
          opacity         : 1;
          translate       : 0 0;
          pointer-events  : auto;
        }

        .mobile-app-surface-shell {
          display        : flex;
          flex-direction : column;
          gap            : var(--space-4);
          min-block-size : 100%;
        }

        .mobile-app-surface-hero {
          display        : flex;
          flex-direction : column;
          gap            : var(--space-2);
          padding        : var(--space-4);
          border-radius  : var(--radius-xl);
          background     : oklch(100% 0 0 / 0.03);
          border         : 1px solid var(--border-subtle);
          box-shadow     : var(--shadow-sm);
          backdrop-filter: blur(8px);
        }

        .mobile-app-surface-kicker {
          font-size      : var(--text-xs);
          font-family    : var(--font-mono);
          color          : var(--text-muted);
          letter-spacing : 0.06em;
          text-transform : uppercase;
        }

        .mobile-app-surface-title {
          font-size   : var(--text-xl);
          font-weight : 700;
          line-height : var(--leading-tight);
          color       : var(--text-primary);
        }

        .mobile-app-surface-copy {
          font-size   : var(--text-sm);
          line-height : var(--leading-relaxed);
          color       : var(--text-secondary);
        }

        .mobile-app-surface-card {
          display        : grid;
          gap            : var(--space-3);
          padding        : var(--space-4);
          border-radius  : var(--radius-lg);
          background     : oklch(100% 0 0 / 0.02);
          border         : 1px solid var(--border-subtle);
          box-shadow     : var(--shadow-sm);
        }

        .mobile-app-surface-card-title {
          font-size   : var(--text-sm);
          font-weight : 600;
          color       : var(--text-primary);
        }

        .mobile-app-surface-card-copy {
          font-size   : var(--text-sm);
          color       : var(--text-secondary);
          line-height : var(--leading-relaxed);
        }

        .mobile-app-surface-actions {
          display   : flex;
          flex-wrap : wrap;
          gap       : var(--space-2);
        }

        .mobile-app-surface-action {
          display        : inline-flex;
          align-items    : center;
          justify-content: center;
          padding-inline : var(--space-3);
          padding-block  : var(--space-1);
          border-radius  : var(--radius-full);
          background     : var(--icon-selected-bg);
          border         : 1px solid var(--icon-selected-bd);
          color          : var(--c-accent);
          font-size      : var(--text-sm);
          font-weight    : 600;
        }

        .mobile-home-hero {
          display         : grid;
          justify-items   : center;
          align-content   : start;
          gap             : var(--space-2);
          padding-block   : var(--space-2);
          text-align      : center;
        }

        .mobile-home-clock {
          font-family    : var(--font-sans);
          font-size      : clamp(3rem, 14vw, 4.5rem);
          font-weight    : 300;
          line-height    : 0.92;
          letter-spacing : -0.03em;
          color          : var(--c-white);
          text-shadow    : 0 6px 16px oklch(0% 0 0 / 0.35);
        }

        .mobile-home-date {
          font-size      : var(--text-base);
          font-weight    : 500;
          text-transform : uppercase;
          letter-spacing : 0.16em;
          color          : var(--c-accent);
          opacity        : 0.9;
        }

        .mobile-home-icons {
          position : relative;
        }

        .mobile-home-icon-grid {
          display               : grid;
          grid-template-columns : repeat(4, minmax(0, 1fr));
          gap                   : var(--space-3) var(--space-2);
          align-content         : start;
        }

        .desktop-icon--mobile-grid {
          position        : static;
          inline-size     : auto;
          min-inline-size : 0;
          min-block-size  : 5.75rem;
          padding         : var(--space-2) var(--space-1);
          border          : 1px solid oklch(100% 0 0 / 0.08);
          background      : oklch(100% 0 0 / 0.035);
          box-shadow      : var(--shadow-sm);
          backdrop-filter : blur(4px);
        }

        .desktop-icon--mobile-grid:hover {
          background   : oklch(100% 0 0 / 0.075);
          border-color : oklch(100% 0 0 / 0.14);
          box-shadow   : 0 4px 14px oklch(0% 0 0 / 0.2);
        }

        .desktop-icon--mobile-grid:active {
          background : oklch(100% 0 0 / 0.10);
          transform  : scale(0.98);
        }

        .desktop-icon--mobile-grid .desktop-icon-label {
          color       : var(--text-secondary);
          text-shadow : none;
          line-height : 1.15;
        }

        .desktop-icon--mobile-grid:hover .desktop-icon-label,
        .desktop-icon--mobile-grid:focus-visible .desktop-icon-label {
          color : var(--text-primary);
        }

        .dock.mobile {
          inline-size     : 100%;
          min-inline-size : 0;
          /* Match app dock vertical spacing; avoid lifting the tray upward on mobile. */
          padding-block   : var(--space-2);
        }

        .dock.mobile::before {
          content          : '';
          position         : absolute;
          inset-inline     : 0;
          inset-block-start: 0;
          block-size       : 1px;
          pointer-events   : none;
          background       : linear-gradient(
            90deg,
            transparent 0%,
            oklch(92% 0.03 255 / 0.18) 10%,
            oklch(92% 0.03 255 / 0.34) 50%,
            oklch(92% 0.03 255 / 0.18) 90%,
            transparent 100%
          );
        }

        .dock-tray.mobile {
          min-inline-size          : 0;
          inline-size             : 100%;
          overflow                 : hidden;
          flex-wrap                : nowrap;
          gap                      : var(--space-1);
          max-inline-size          : 100%;
        }

        .dock-tray.mobile::-webkit-scrollbar {
          display : none;
        }

        .dock-tray-scroll.mobile {
          display                 : flex;
          align-items             : center;
          justify-content         : flex-start;
          gap                     : var(--space-2);
          flex                    : 1 1 auto;
          min-inline-size         : 0;
          overflow-x              : auto;
          overflow-y              : hidden;
          scrollbar-width         : none;
          -ms-overflow-style      : none;
          touch-action            : pan-x;
          overscroll-behavior-x   : contain;
          -webkit-overflow-scrolling: touch;
        }

        .dock-tray-scroll.mobile::-webkit-scrollbar {
          display : none;
        }

        .dock-tray-fixed.mobile {
          display         : flex;
          align-items     : center;
          gap             : var(--space-2);
          flex-shrink     : 0;
          min-inline-size : 0;
        }

        .dock-tray.mobile > .dock-separator {
          margin-inline : var(--space-1);
          flex-shrink   : 0;
        }

        .dock.mobile .dock-launch {
          flex-shrink : 0;
        }

        .dock.mobile .dock-launch--window:not([data-mobile-current-window]) {
          opacity : 0.5;
        }

        .dock.mobile .dock-launch--window:not([data-mobile-current-window]) .dock-window-dot {
          opacity : 0.45;
        }

        .dock.mobile .dock-launch--window[data-mobile-current-window] {
          opacity : 1;
        }

        .dock.mobile .dock-launch--window[data-mobile-current-window].dock-launch--minimized {
          opacity : 0.72;
        }

        .dock.mobile .dock-launch--window:not([data-mobile-current-window]):hover,
        .dock.mobile .dock-launch--window:not([data-mobile-current-window]):focus-visible {
          opacity : 0.8;
        }

        .dock-launch--control {
          font-size : 0;
        }

        .dock-launch--control:disabled {
          opacity : 0.55;
        }

        .dock-launch--control:disabled:hover,
        .dock-launch--control:disabled:active {
          background : transparent;
          transform  : none;
        }

        .dock-control-icon {
          inline-size : 1.65rem;
          block-size  : 1.65rem;
          color       : var(--text-secondary);
          transition  : color var(--dur-fast) var(--ease-out);
        }

        .dock-launch--control:hover .dock-control-icon {
          color : var(--text-primary);
        }

        .dock-control-icon-graphic--expand,
        .dock-control-icon-graphic--collapse {
          display : none;
        }

        .mobile-root[data-mobile-app-state="expanded"] .dock-control-icon-graphic--collapse,
        .mobile-root[data-mobile-app-state="minimized"] .dock-control-icon-graphic--expand {
          display : block;
        }

        .mobile-root[data-mobile-app-state="expanded"] [data-mobile-current-window] {
          opacity : 1;
        }

        .mobile-root[data-mobile-app-state="minimized"] [data-mobile-current-window] {
          opacity : 0.55;
        }

        @media (max-width: 430px) {
          .mobile-root--preview {
            box-shadow : none;
          }
        }

        @media (prefers-reduced-motion: reduce) {
          .desktop-icon,
          .dock-launch,
          .dock-tooltip,
          .mobile-toast-stack,
          .toast.mobile,
          .mobile-home-shell::before,
          .app-window-content.mobile {
            transition : none !important;
            transform  : none;
          }
        }
      }
    </style>
  </head>
  <body class="fixture-preview-body">
    <!--
      Migration notes (fixture -> main app)
      - This file intentionally reuses app contracts/classes (.topbar, .desktop-icon, .dock, .dock-tray, .dock-launch, .icon-sprite).
      - When migrating, replace hard-coded markup/data here with real Vue components/state from the main app instead of duplicating logic.
      - Primary mappings:
        * Header/top bar UI -> src/components/TopBar.vue
        * Desktop icon tiles -> src/components/DesktopIcon.vue + src/data/registry.ts
        * Dock UI/tooltip/item states -> src/components/Dock.vue
        * App shell tokens/shared component styles -> src/assets/css/main.css + src/assets/css/components.css
      - Fixture-only sections (placeholder content + mock JS state/gestures) are here to validate UX before wiring production state.
    -->
    <div class="mobile-root mobile-root--preview" data-theme="dark" data-mobile-app-state="minimized" data-mobile-current-app="about">
      <!-- Matches App.vue pattern of injecting sprite URL via CSS custom property; path is standalone-fixture relative. -->
      <div class="mobile-home-shell" style="--desktop-sprite-url: url('../desktop-portfolio/public/icons/desktop-profile-icons.webp');">
        <!-- Replace hard-coded topbar controls/labels with the real header rendering + handlers, but keep the shared .topbar contract. -->
        <header class="topbar mobile" aria-label="Site header">
          <div class="topbar-group">
            <span class="topbar-brand">Robert Hoffmann</span>
          </div>

          <div class="topbar-group topbar-group--right">
            <span class="locale-toggle" role="radiogroup" aria-label="Toggle language">
              <button class="locale-toggle-btn locale-toggle-btn--active" type="button" role="radio" aria-checked="true">EN</button>
              <button class="locale-toggle-btn" type="button" role="radio" aria-checked="false">FR</button>
            </span>

            <button class="topbar-icon-btn" type="button" aria-label="Switch theme">☀︎</button>
          </div>
        </header>

        <!--
          Mobile toast prototype (overlay notification style).
          Migration target: map this to the main app's toast state/composable (useToast) while keeping the shared .toast class.
          The `mobile` variant changes only placement/animation to match phone-style top notifications.
          Intended mobile behavior (keep during migration):
          - top overlay notification banner
          - stacked notifications (queued/follow-up toasts can coexist briefly)
          - ~5s auto-hide by default
          - swipe-left dismiss interaction
          - click-through notifications can open external links in a new tab
          - clickable notifications may show a small bottom "Click to open" cue bar in mobile
          Fixture choice for now: only "Welcome", delayed "LinkedIn", and theme-switch toasts are shown
          (no app open/minimize/restore spam).
        -->
        <div class="mobile-toast-stack" data-mobile-toast-stack aria-live="polite" aria-relevant="additions text">
          <template data-mobile-toast-template>
            <aside class="toast mobile" data-visible="false" data-clickable="false" data-closing="false" role="status" aria-atomic="true" aria-hidden="true">
              <div class="mobile-toast-meta">
                <span class="mobile-toast-app">Portfolio</span>
                <span class="mobile-toast-time" data-mobile-toast-time>now</span>
              </div>
              <div class="mobile-toast-title" data-mobile-toast-title>Welcome</div>
              <div class="mobile-toast-message" data-mobile-toast-message>
                Click an icon to open an app. Click the dock bar to open or minimize an app. Swipe left to close an app.
              </div>
              <div class="mobile-toast-cta-list" data-mobile-toast-cta-list hidden aria-hidden="true"></div>
            </aside>
          </template>
        </div>

        <main class="desktop-area mobile-home-main" aria-label="Desktop area">
          <h1 class="sr-only">Desktop portfolio mobile home prototype</h1>
          <div class="desktop-vignette" aria-hidden="true"></div>

          <div class="mobile-home-scroll">
            <section class="mobile-home-hero" aria-label="Time and date">
              <p class="mobile-home-clock">12:45</p>
              <p class="mobile-home-date">Tuesday, Oct 24</p>
            </section>

            <!-- Replace this hard-coded grid with registry-driven rendering (DesktopIcon.vue + src/data/registry.ts) in the main app. -->
            <section class="mobile-home-icons" aria-label="Application shortcuts">
              <div class="mobile-home-icon-grid">
                <button class="desktop-icon desktop-icon--mobile-grid" type="button" data-item-id="about" aria-label="About Me">
                  <span class="icon-sprite desktop-icon-sprite icon-sprite--profile" aria-hidden="true"></span>
                  <span class="desktop-icon-label">About Me</span>
                </button>

                <button class="desktop-icon desktop-icon--mobile-grid" type="button" data-item-id="projects" aria-label="Projects">
                  <span class="icon-sprite desktop-icon-sprite icon-sprite--projects" aria-hidden="true"></span>
                  <span class="desktop-icon-label">Projects</span>
                </button>

                <button class="desktop-icon desktop-icon--mobile-grid" type="button" data-item-id="resume" aria-label="Resume">
                  <span class="icon-sprite desktop-icon-sprite icon-sprite--resume" aria-hidden="true"></span>
                  <span class="desktop-icon-label">Resume</span>
                </button>

                <button class="desktop-icon desktop-icon--mobile-grid" type="button" data-item-id="twitter" aria-label="X">
                  <span class="icon-sprite desktop-icon-sprite icon-sprite--social-x" aria-hidden="true"></span>
                  <span class="desktop-icon-label">X</span>
                </button>

                <button class="desktop-icon desktop-icon--mobile-grid" type="button" data-item-id="linkedin" aria-label="LinkedIn">
                  <span class="icon-sprite desktop-icon-sprite icon-sprite--social-linkedin" aria-hidden="true"></span>
                  <span class="desktop-icon-label">LinkedIn</span>
                </button>

                <button class="desktop-icon desktop-icon--mobile-grid" type="button" data-item-id="github" aria-label="GitHub">
                  <span class="icon-sprite desktop-icon-sprite icon-sprite--social-github" aria-hidden="true"></span>
                  <span class="desktop-icon-label">GitHub</span>
                </button>

                <button class="desktop-icon desktop-icon--mobile-grid" type="button" data-item-id="music" aria-label="Music">
                  <span class="icon-sprite desktop-icon-sprite icon-sprite--music" aria-hidden="true"></span>
                  <span class="desktop-icon-label">Music</span>
                </button>

                <button class="desktop-icon desktop-icon--mobile-grid" type="button" data-item-id="video" aria-label="Video">
                  <span class="icon-sprite desktop-icon-sprite icon-sprite--video" aria-hidden="true"></span>
                  <span class="desktop-icon-label">Video</span>
                </button>

              </div>
            </section>
          </div>

          <!--
            Fixture-only app surface content for layout/scroll/gesture testing.
            Migration target: render real mobile app content here from main app state instead of these placeholder cards.
            Keep the shell placement (between topbar and dock) and the open/minimized behavior mapping.
          -->
          <section class="app-window-content mobile" data-mobile-app-surface aria-label="Current mobile app preview">
            <div class="mobile-app-surface-shell">
              <div class="mobile-app-surface-hero">
                <p class="mobile-app-surface-kicker">Current App</p>
                <h2 class="mobile-app-surface-title" data-mobile-app-title>About Me</h2>
                <p class="mobile-app-surface-copy">
                  This mock shows how mobile apps can open in the main workspace only, between the top bar and the dock, while the dock stays available for minimize / restore.
                </p>
              </div>

              <section class="mobile-app-surface-card" aria-label="App content area preview">
                <h3 class="mobile-app-surface-card-title">Headerless Full-Height App Surface</h3>
                <p class="mobile-app-surface-card-copy">
                  No window title bar here. The dock handles shell-level controls, and minimizing reveals the desktop icons underneath.
                </p>
                <div class="mobile-app-surface-actions" aria-hidden="true">
                  <span class="mobile-app-surface-action">Dock toggle</span>
                  <span class="mobile-app-surface-action">Full-height main area</span>
                  <span class="mobile-app-surface-action">Icons behind app</span>
                </div>
              </section>

              <section class="mobile-app-surface-card" aria-label="Interaction notes">
                <h3 class="mobile-app-surface-card-title">Prototype Interactions</h3>
                <p class="mobile-app-surface-card-copy">
                  Use the dock control (fullscreen icon from the desktop top bar) to minimize/restore this app surface and access the desktop icons.
                </p>
              </section>

              <section class="mobile-app-surface-card" aria-label="Scroll behavior notes">
                <h3 class="mobile-app-surface-card-title">Scroll + Swipe Test Notes</h3>
                <p class="mobile-app-surface-card-copy">
                  This section adds enough vertical content to test two behaviors at the same time: normal vertical scrolling inside the app surface and left-swipe closing for the current app card.
                </p>
                <p class="mobile-app-surface-card-copy">
                  Try scrolling through the cards first, then swipe left from a clear area. Vertical movement should keep the content scrollable while horizontal movement can dismiss the app.
                </p>
                <div class="mobile-app-surface-actions" aria-hidden="true">
                  <span class="mobile-app-surface-action">Vertical scroll</span>
                  <span class="mobile-app-surface-action">Horizontal swipe</span>
                  <span class="mobile-app-surface-action">Dock close state</span>
                </div>
              </section>

              <section class="mobile-app-surface-card" aria-label="Profile summary preview">
                <h3 class="mobile-app-surface-card-title">Profile Summary (Sample)</h3>
                <p class="mobile-app-surface-card-copy">
                  Senior product-minded engineer focused on front-end architecture, UI systems, and pragmatic iteration. This is placeholder content for testing long-form reading and scroll momentum in the mobile app area.
                </p>
                <p class="mobile-app-surface-card-copy">
                  The goal of this fixture is not exact production copy, but realistic block lengths that make layout, spacing, and touch gestures easier to validate before wiring the real application data.
                </p>
                <div class="mobile-app-surface-actions" aria-hidden="true">
                  <span class="mobile-app-surface-action">UI Systems</span>
                  <span class="mobile-app-surface-action">Vue / Vite</span>
                  <span class="mobile-app-surface-action">Design Tokens</span>
                  <span class="mobile-app-surface-action">Interaction Design</span>
                </div>
              </section>

              <section class="mobile-app-surface-card" aria-label="Recent work highlights sample">
                <h3 class="mobile-app-surface-card-title">Recent Work Highlights (Sample)</h3>
                <p class="mobile-app-surface-card-copy">
                  1. Reworked the mobile shell prototype to match desktop app contracts so components, tokens, and DOM patterns can be reused during migration.
                </p>
                <p class="mobile-app-surface-card-copy">
                  2. Added dock behaviors for open apps, active app state, minimize/restore, and dynamic insertion from desktop shortcuts with overflow scrolling support.
                </p>
                <p class="mobile-app-surface-card-copy">
                  3. Prototyped swipe-to-close behavior while preserving vertical scrolling, so touch interactions can be evaluated before implementing the production window manager logic.
                </p>
              </section>

              <section class="mobile-app-surface-card" aria-label="Preferences and constraints sample">
                <h3 class="mobile-app-surface-card-title">Prototype Constraints (Sample)</h3>
                <p class="mobile-app-surface-card-copy">
                  This standalone HTML file is intentionally close to the desktop application styling and naming conventions. Shared classes are reused where possible, and fixture-only behavior is added with minimal drift.
                </p>
                <div class="mobile-app-surface-actions" aria-hidden="true">
                  <span class="mobile-app-surface-action">Standalone HTML</span>
                  <span class="mobile-app-surface-action">App-aligned CSS</span>
                  <span class="mobile-app-surface-action">Dock experiments</span>
                  <span class="mobile-app-surface-action">Gesture prototype</span>
                  <span class="mobile-app-surface-action">Migration-ready DOM</span>
                </div>
              </section>

              <section class="mobile-app-surface-card" aria-label="Extra filler for scroll depth">
                <h3 class="mobile-app-surface-card-title">Additional Content for Scroll Depth</h3>
                <p class="mobile-app-surface-card-copy">
                  This final card is intentionally verbose so the app surface remains tall enough to test inertial scrolling, gesture initiation near the bottom of the content, and the transition back to the desktop after closing.
                </p>
                <p class="mobile-app-surface-card-copy">
                  You can now test these combinations: open from dock, scroll down, swipe left to close, reopen from dock, click a desktop icon to add a new dock item, and then scroll the dock strip to return to earlier apps.
                </p>
              </section>
            </div>
          </section>
        </main>

        <!--
          Dock contract notes (maps to src/components/Dock.vue)
          - Left strip (.dock-tray-scroll.mobile): open apps list (scrollable overflow)
          - Right control group (.dock-tray-fixed.mobile): shell-level maximize/minimize control for current app surface
          - Prototype semantics:
            * "Open" app = dock icon exists
            * "Current" app = icon has [data-mobile-current-window]
            * "Active/visible" app = current icon + app surface expanded
            * "Minimized/hidden" = current icon stays in dock, app surface hidden
            * "Closed" = dock icon removed (currently via swipe-left on app surface)
        -->
        <footer class="dock mobile" aria-label="Dock">
          <div class="dock-tray mobile" role="toolbar" aria-label="App dock">
            <!-- In migration, this list should be rendered from the real open-window/app state, not hard-coded buttons. -->
            <div class="dock-tray-scroll mobile" role="group" aria-label="Open apps">
              <!-- Sample open apps only (active/open state shown via dock dots) -->
              <button class="dock-launch dock-launch--window" type="button" data-item-id="about" data-window-id="about-1" data-mobile-current-window aria-label="Show About Me app">
                <span class="icon-sprite dock-icon-sprite icon-sprite--profile" aria-hidden="true"></span>
                <span class="dock-tooltip">About Me</span>
                <span class="dock-window-dot" aria-hidden="true"></span>
              </button>

              <button class="dock-launch dock-launch--window" type="button" data-item-id="projects" data-window-id="projects-1" data-mobile-window-sample aria-label="Open Projects app">
                <span class="icon-sprite dock-icon-sprite icon-sprite--projects" aria-hidden="true"></span>
                <span class="dock-tooltip">Projects</span>
                <span class="dock-window-dot" aria-hidden="true"></span>
              </button>
              <button class="dock-launch dock-launch--window" type="button" data-item-id="resume" data-window-id="resume-1" data-mobile-window-sample aria-label="Open Resume app">
                <span class="icon-sprite dock-icon-sprite icon-sprite--resume" aria-hidden="true"></span>
                <span class="dock-tooltip">Resume</span>
                <span class="dock-window-dot" aria-hidden="true"></span>
              </button>
            </div>

            <span class="dock-separator" aria-hidden="true"></span>

            <!-- Reuses the desktop top-bar fullscreen icon as a mobile dock control in this fixture; map to real shell state in migration. -->
            <div class="dock-tray-fixed mobile" role="group" aria-label="Current app controls">
              <button class="dock-launch dock-launch--control" type="button" data-mobile-action="toggle-current-app" aria-pressed="true" aria-label="Minimize current app">
                <svg
                  class="dock-control-icon"
                  viewBox="0 0 16 16"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  aria-hidden="true"
                >
                  <g class="dock-control-icon-graphic dock-control-icon-graphic--expand">
                    <polyline points="1 5.5 1 1 5.5 1" />
                    <polyline points="10.5 1 15 1 15 5.5" />
                    <polyline points="15 10.5 15 15 10.5 15" />
                    <polyline points="5.5 15 1 15 1 10.5" />
                  </g>
                  <g class="dock-control-icon-graphic dock-control-icon-graphic--collapse">
                    <polyline points="5.5 1 5.5 5.5 1 5.5" />
                    <polyline points="15 5.5 10.5 5.5 10.5 1" />
                    <polyline points="10.5 15 10.5 10.5 15 10.5" />
                    <polyline points="1 10.5 5.5 10.5 5.5 15" />
                  </g>
                </svg>
                <span class="dock-tooltip" data-mobile-toggle-tooltip>Hide App</span>
              </button>
            </div>
          </div>
        </footer>
      </div>
    </div>
    <script>
      (() => {
        /*
          Fixture-only interaction layer (to be replaced by real app state when migrating):
          - Keeps the HTML/CSS contracts close to the main app while simulating mobile-specific UX.
          - Do not duplicate this state machine in production if the main app already owns window/open state.
          - Map behaviors into the real app's window/dock state management instead.
          - Toast behavior here is also fixture-only: the real app already has useToast/App.vue wiring and shared `.toast` styling.
          - Only example toasts are enabled in this fixture ("Welcome", delayed "LinkedIn", and theme switch)
            to avoid noisy app-state notifications.
          - Clickable notifications can render fixture-only CTA cue bars for mobile visual testing.
        */
        const root = document.querySelector('.mobile-root')
        const appSurface = document.querySelector('[data-mobile-app-surface]')
        const dockTrayScroll = document.querySelector('.dock-tray-scroll.mobile')
        const toggleButton = document.querySelector('[data-mobile-action=\"toggle-current-app\"]')
        const toggleTooltip = document.querySelector('[data-mobile-toggle-tooltip]')
        const appTitle = document.querySelector('[data-mobile-app-title]')
        const themeButton = document.querySelector('.topbar.mobile .topbar-icon-btn[aria-label=\"Switch theme\"]')
        const mobileToastStack = document.querySelector('[data-mobile-toast-stack]')
        const mobileToastTemplate = document.querySelector('[data-mobile-toast-template]')

        if (!(root instanceof HTMLElement)) return
        if (!(appSurface instanceof HTMLElement)) return
        if (!(dockTrayScroll instanceof HTMLElement)) return
        if (!(toggleButton instanceof HTMLButtonElement)) return
        if (!(mobileToastStack instanceof HTMLElement)) return
        if (!(mobileToastTemplate instanceof HTMLTemplateElement)) return

        // Temporary label registry for the fixture. Replace with the real registry/data mapping from src/data/registry.ts during migration.
        const titleById = {
          about    : 'About Me',
          projects : 'Projects',
          resume   : 'Resume',
          twitter  : 'X',
          linkedin : 'LinkedIn',
          github   : 'GitHub',
          extras   : 'GeoWars.app',
          music    : 'Music',
          video    : 'Video',
          terminal : 'Terminal',
        }

        // Fixture-only hardwired external links (copied from desktop-portfolio/src/data/registry.ts).
        // Migration target: resolve from the real registry entry `url` field for link-type desktop items.
        const externalLinkById = {
          twitter  : 'https://x.com/itechnologynet',
          linkedin : 'https://www.linkedin.com/in/hoffmannrobert',
          github   : 'https://github.com/robert-hoffmann',
        }

        const MOBILE_TOAST_DURATION_MS = 5000
        const WELCOME_TOAST_DELAY_MS = 550
        const LINKEDIN_FOLLOWUP_DELAY_MS = 5_000
        const TOAST_STACK_OVERLAP_MS = 900
        const WELCOME_TOAST_DURATION_MS = MOBILE_TOAST_DURATION_MS + TOAST_STACK_OVERLAP_MS
        const DEFAULT_TOAST_CTA_LABEL = 'Click to open'

        // The dock's "open apps" collection is the source of truth in this fixture (DOM-backed for quick prototyping).
        function getDockWindowButtons() {
          return Array.from(dockTrayScroll.querySelectorAll('.dock-launch--window[data-item-id]'))
            .filter((button) => button instanceof HTMLButtonElement)
        }

        let dockWindowButtons = getDockWindowButtons()
        if (!dockWindowButtons.length) return

        let currentWindowDockButton = dockWindowButtons.find((button) => button.hasAttribute('data-mobile-current-window')) ?? null

        function refreshDockWindowButtons() {
          dockWindowButtons = getDockWindowButtons()
        }

        function getItemLabel(itemId) {
          return titleById[itemId] ?? itemId
        }

        function openUrlInNewTab(url) {
          if (!url) return false
          const link = document.createElement('a')
          link.href = url
          link.target = '_blank'
          link.rel = 'noopener noreferrer'
          link.referrerPolicy = 'no-referrer'
          link.style.display = 'none'
          document.body.append(link)
          link.click()
          link.remove()
          return true
        }

        function openExternalLink(itemId) {
          const url = externalLinkById[itemId]
          if (!url) return false
          // Open social links in a new tab (fixture behavior should mirror desktop "link" items).
          return openUrlInNewTab(url)
        }

        function isExpanded() {
          return root.dataset.mobileAppState !== 'minimized'
        }

        const swipeState = {
          pointerId         : null,
          startX            : 0,
          startY            : 0,
          deltaX            : 0,
          axis              : null,
          isDragging        : false,
          isClosing         : false,
          settleTimeoutId   : null,
        }

        const toastRecords = new WeakMap()

        function cloneDockIconFromDesktop(itemId) {
          if (!itemId) return null

          const sourceIcon = document.querySelector(
            `.mobile-home-icon-grid [data-item-id=\"${CSS.escape(itemId)}\"] .icon-sprite, ` +
            `.mobile-home-icon-grid [data-item-id=\"${CSS.escape(itemId)}\"] .desktop-icon-glyph, ` +
            `.mobile-home-icon-grid [data-item-id=\"${CSS.escape(itemId)}\"] img`
          )

          if (!(sourceIcon instanceof HTMLElement)) return null

          const clone = sourceIcon.cloneNode(true)
          if (!(clone instanceof HTMLElement)) return null

          if (clone.classList.contains('desktop-icon-sprite')) {
            clone.classList.remove('desktop-icon-sprite')
            clone.classList.add('dock-icon-sprite')
          }

          return clone
        }

        // Dock icon behavior:
        // - Click inactive/open icon => select + show app surface
        // - Click current/expanded icon => unselect and return to desktop (hide only; icon stays open in dock)
        function bindDockWindowButton(button) {
          if (!(button instanceof HTMLButtonElement)) return
          if (button.dataset.mobileDockBound === 'true') return

          button.dataset.mobileDockBound = 'true'
          button.addEventListener('click', () => {
            const itemId = button.dataset.itemId
            if (!itemId) return
            if (button === currentWindowDockButton && isExpanded()) {
              clearCurrentApp()
              return
            }
            setCurrentApp(itemId, button)
          })
        }

        // Fixture-only DOM creation for "open app added to dock".
        // Migration target: the real app should render dock items reactively from open-window state instead of creating DOM nodes imperatively.
        function createDockWindowButton(itemId) {
          const label = getItemLabel(itemId)
          const button = document.createElement('button')
          button.className = 'dock-launch dock-launch--window'
          button.type = 'button'
          button.dataset.itemId = itemId
          button.dataset.windowId = `${itemId}-1`
          button.dataset.mobileWindowSample = ''
          button.setAttribute('aria-label', `Open ${label} app`)

          const icon = cloneDockIconFromDesktop(itemId)
          if (icon instanceof HTMLElement) {
            button.append(icon)
          } else {
            const fallbackIcon = document.createElement('span')
            fallbackIcon.className = 'dock-launch-icon'
            fallbackIcon.textContent = '◻︎'
            button.append(fallbackIcon)
          }

          const tooltip = document.createElement('span')
          tooltip.className = 'dock-tooltip'
          tooltip.textContent = label
          button.append(tooltip)

          const dot = document.createElement('span')
          dot.className = 'dock-window-dot'
          dot.setAttribute('aria-hidden', 'true')
          button.append(dot)

          dockTrayScroll.append(button)
          bindDockWindowButton(button)
          refreshDockWindowButtons()
          return button
        }

        // Desktop icon click behavior contract:
        // - If app already exists in dock => reuse/select it
        // - If app is not in dock => append a new dock item (overflow scroll handles the extra items)
        function ensureDockWindowButton(itemId) {
          refreshDockWindowButtons()
          const existing = dockWindowButtons.find((button) => button.dataset.itemId === itemId)
          if (existing instanceof HTMLButtonElement) return existing
          return createDockWindowButton(itemId)
        }

        function revealDockWindowButton(button) {
          if (!(button instanceof HTMLButtonElement)) return
          button.scrollIntoView({
            block    : 'nearest',
            inline   : 'nearest',
            behavior : 'smooth',
          })
        }

        function clearSwipeSettleTimer() {
          if (swipeState.settleTimeoutId === null) return
          window.clearTimeout(swipeState.settleTimeoutId)
          swipeState.settleTimeoutId = null
        }

        function resetAppSurfaceSwipeStyles() {
          clearSwipeSettleTimer()
          appSurface.style.transform = ''
          appSurface.style.opacity = ''
          appSurface.style.transition = ''
        }

        function resetSwipePointerState() {
          swipeState.pointerId = null
          swipeState.startX = 0
          swipeState.startY = 0
          swipeState.deltaX = 0
          swipeState.axis = null
          swipeState.isDragging = false
          swipeState.isClosing = false
        }

        function createToastRecord(url) {
          return {
            hideTimerId     : null,
            settleTimerId   : null,
            removeTimerId   : null,
            activeLinkUrl   : typeof url === 'string' ? url : '',
            ignoreNextClick : false,
            swipe           : {
              pointerId   : null,
              startX      : 0,
              startY      : 0,
              deltaX      : 0,
              axis        : null,
              isDragging  : false,
              isClosing   : false,
            },
          }
        }

        function getToastRecord(toastElement) {
          return toastElement instanceof HTMLElement ? toastRecords.get(toastElement) ?? null : null
        }

        function getVisibleToastElements() {
          return Array.from(mobileToastStack.querySelectorAll('.toast.mobile'))
            .filter((toast) => toast instanceof HTMLElement)
        }

        function measureToastTopMap() {
          const map = new Map()
          for (const toast of getVisibleToastElements()) {
            map.set(toast, toast.getBoundingClientRect().top)
          }
          return map
        }

        // Fixture-only stack reflow animation so lower notifications "float up" when an upper one expires.
        // Migration target: keep the stacked mobile behavior, but implement in the real toast renderer/component.
        function animateToastStackReflow(previousTopByToast) {
          if (!(previousTopByToast instanceof Map) || previousTopByToast.size === 0) return

          for (const toast of getVisibleToastElements()) {
            const prevTop = previousTopByToast.get(toast)
            if (typeof prevTop !== 'number') continue

            const nextTop = toast.getBoundingClientRect().top
            const deltaY = prevTop - nextTop
            if (!Number.isFinite(deltaY) || Math.abs(deltaY) < 0.5) continue

            toast.style.transition = 'none'
            toast.style.transform = `translate3d(0, ${deltaY}px, 0)`
            window.requestAnimationFrame(() => {
              if (!toast.isConnected) return
              toast.style.transition = 'transform 220ms var(--ease-spring)'
              toast.style.transform = 'translate3d(0, 0, 0)'
              const record = getToastRecord(toast)
              if (record && record.settleTimerId !== null) {
                window.clearTimeout(record.settleTimerId)
              }
              if (record) {
                record.settleTimerId = window.setTimeout(() => {
                  if (!toast.isConnected) return
                  // Preserve opacity if a concurrent fade/dismiss is running.
                  toast.style.transition = ''
                  toast.style.transform = ''
                  record.settleTimerId = null
                }, 220)
              }
            })
          }
        }

        // Fixture toast timers (auto-hide + swipe settle). Replace with the real toast lifecycle from useToast during migration.
        function clearToastTimers(toastElement) {
          const record = getToastRecord(toastElement)
          if (!record) return
          if (record.hideTimerId !== null) {
            window.clearTimeout(record.hideTimerId)
            record.hideTimerId = null
          }
          if (record.settleTimerId !== null) {
            window.clearTimeout(record.settleTimerId)
            record.settleTimerId = null
          }
          if (record.removeTimerId !== null) {
            window.clearTimeout(record.removeTimerId)
            record.removeTimerId = null
          }
        }

        function resetToastSwipePointerState(toastElement) {
          const record = getToastRecord(toastElement)
          if (!record) return
          record.swipe.pointerId = null
          record.swipe.startX = 0
          record.swipe.startY = 0
          record.swipe.deltaX = 0
          record.swipe.axis = null
          record.swipe.isDragging = false
          record.swipe.isClosing = false
        }

        function resetMobileToastGestureStyles(toastElement) {
          if (!(toastElement instanceof HTMLElement)) return
          toastElement.style.transition = ''
          toastElement.style.transform = ''
          toastElement.style.opacity = ''
        }

        function finalizeToastRemoval(toastElement, previousTopByToast) {
          if (!(toastElement instanceof HTMLElement)) return
          const record = getToastRecord(toastElement)
          clearToastTimers(toastElement)
          toastRecords.delete(toastElement)
          toastElement.remove()
          animateToastStackReflow(previousTopByToast)
          if (record) {
            record.ignoreNextClick = false
          }
        }

        function hideMobileToast(toastElement, options = {}) {
          if (!(toastElement instanceof HTMLElement)) return
          const record = getToastRecord(toastElement)
          if (!record) return
          if (toastElement.dataset.closing === 'true') return

          const { preserveGestureStyles = false, exitBySwipe = false } = options
          clearToastTimers(toastElement)
          record.activeLinkUrl = ''
          record.ignoreNextClick = false
          record.swipe.isClosing = true

          const previousTopByToast = measureToastTopMap()
          toastElement.dataset.closing = 'true'
          toastElement.dataset.visible = 'false'
          toastElement.dataset.clickable = 'false'
          toastElement.setAttribute('aria-hidden', 'true')

          if (!preserveGestureStyles && !exitBySwipe) {
            resetMobileToastGestureStyles(toastElement)
          }

          record.removeTimerId = window.setTimeout(() => {
            finalizeToastRemoval(toastElement, previousTopByToast)
          }, 220)
        }

        function formatToastTime() {
          try {
            return new Date().toLocaleTimeString([], {
              hour   : 'numeric',
              minute : '2-digit',
            }).toLowerCase()
          } catch {
            return 'now'
          }
        }

        function normalizeToastCtaVariants(value) {
          if (!Array.isArray(value)) return []

          const allowedVariants = new Set(['soft', 'outline', 'accent'])
          return value
            .map((variant) => String(variant).trim().toLowerCase())
            .filter((variant, index, array) => allowedVariants.has(variant) && array.indexOf(variant) === index)
        }

        function renderMobileToastCtaBars(toastElement, options = {}) {
          if (!(toastElement instanceof HTMLElement)) return

          const ctaList = toastElement.querySelector('[data-mobile-toast-cta-list]')
          if (!(ctaList instanceof HTMLElement)) return

          const {
            url = '',
            ctaLabel = DEFAULT_TOAST_CTA_LABEL,
            ctaVariants = [],
          } = options

          const hasUrl = typeof url === 'string' && url.length > 0
          const normalizedVariants = normalizeToastCtaVariants(ctaVariants)
          const variants = hasUrl
            ? (normalizedVariants.length ? normalizedVariants : ['soft'])
            : []

          ctaList.replaceChildren()

          if (!variants.length) {
            ctaList.hidden = true
            ctaList.setAttribute('aria-hidden', 'true')
            return
          }

          for (const variant of variants) {
            const bar = document.createElement('div')
            bar.className = `mobile-toast-cta-bar mobile-toast-cta-bar--${variant}`
            bar.setAttribute('aria-hidden', 'true')

            const labelWrap = document.createElement('span')
            labelWrap.className = 'mobile-toast-cta-bar-label'

            const icon = document.createElement('span')
            icon.className = 'mobile-toast-cta-bar-icon'
            icon.textContent = '↗'

            const labelText = document.createElement('span')
            labelText.textContent = String(ctaLabel)

            const trailing = document.createElement('span')
            trailing.className = 'mobile-toast-cta-bar-trailing'
            trailing.textContent = 'Open'

            labelWrap.append(icon, labelText)
            bar.append(labelWrap, trailing)
            ctaList.append(bar)
          }

          ctaList.hidden = false
          ctaList.setAttribute('aria-hidden', 'true')
        }

        function dismissMobileToastBySwipe(toastElement) {
          if (!(toastElement instanceof HTMLElement)) return
          const record = getToastRecord(toastElement)
          if (!record) return
          if (toastElement.dataset.visible !== 'true') return

          record.swipe.isClosing = true
          record.ignoreNextClick = true
          clearToastTimers(toastElement)
          const travel = -Math.max(toastElement.clientWidth + 28, 260)
          toastElement.style.transition = 'transform 200ms var(--ease-out), opacity 200ms var(--ease-out)'
          toastElement.style.transform = `translate3d(${travel}px, 0, 0) rotate(-4deg)`
          toastElement.style.opacity = '0.2'

          record.settleTimerId = window.setTimeout(() => {
            hideMobileToast(toastElement, { preserveGestureStyles : true, exitBySwipe : true })
            record.swipe.isClosing = false
            record.settleTimerId = null
            window.requestAnimationFrame(() => {
              resetMobileToastGestureStyles(toastElement)
            })
          }, 200)
        }

        // Fixture toast presenter:
        // - Reuses shared `.toast` contract + `.toast.mobile` variant
        // - Adds top-overlay stacked notification behavior + local timer control for prototype testing
        // Migration target: feed title/message from the main app toast/composable instead of local calls.
        function showMobileToast(options = {}) {
          const {
            title = 'Portfolio',
            message = 'Test mobile notification',
            duration = MOBILE_TOAST_DURATION_MS,
            url = '',
            ctaLabel = DEFAULT_TOAST_CTA_LABEL,
            ctaVariants = [],
          } = options

          const toastFragment = mobileToastTemplate.content.cloneNode(true)
          const toastElement = toastFragment.querySelector('.toast.mobile')
          if (!(toastElement instanceof HTMLElement)) return

          const toastTitle = toastElement.querySelector('[data-mobile-toast-title]')
          const toastMessage = toastElement.querySelector('[data-mobile-toast-message]')
          const toastTime = toastElement.querySelector('[data-mobile-toast-time]')

          if (toastTitle instanceof HTMLElement) toastTitle.textContent = String(title)
          if (toastMessage instanceof HTMLElement) toastMessage.textContent = String(message)
          if (toastTime instanceof HTMLElement) toastTime.textContent = formatToastTime()
          renderMobileToastCtaBars(toastElement, { url, ctaLabel, ctaVariants })

          const record = createToastRecord(url)
          toastRecords.set(toastElement, record)
          attachMobileToastEvents(toastElement)

          mobileToastStack.append(toastElement)
          const existingToastCount = getVisibleToastElements().length - 1
          toastElement.dataset.entryOrigin = existingToastCount > 0 ? 'stack' : 'top'
          toastElement.setAttribute('aria-hidden', 'false')
          toastElement.dataset.clickable = record.activeLinkUrl ? 'true' : 'false'
          toastElement.dataset.closing = 'false'
          toastElement.dataset.visible = 'false'
          void toastElement.offsetHeight
          toastElement.dataset.visible = 'true'

          record.hideTimerId = window.setTimeout(() => {
            hideMobileToast(toastElement)
          }, Math.max(900, Number(duration) || 0))
        }

        function onMobileToastClick(event) {
          const toastElement = event.currentTarget
          if (!(toastElement instanceof HTMLElement)) return
          if (toastElement.dataset.visible !== 'true') return

          const record = getToastRecord(toastElement)
          if (!record) return

          if (record.ignoreNextClick) {
            record.ignoreNextClick = false
            event.preventDefault()
            return
          }

          const url = record.activeLinkUrl
          if (!url) return

          event.preventDefault()
          openUrlInNewTab(url)
          hideMobileToast(toastElement)
        }

        // Toast swipe-to-dismiss (mobile notification-style) to mirror card-dismiss behavior expectations.
        // Keep gesture logic minimal here; migrate to real toast component/composable events later.
        function onMobileToastPointerDown(event) {
          const toastElement = event.currentTarget
          if (!(toastElement instanceof HTMLElement)) return
          if (toastElement.dataset.visible !== 'true') return
          const record = getToastRecord(toastElement)
          if (!record) return
          if (record.swipe.isClosing) return
          if (event.pointerType === 'mouse' && event.button !== 0) return

          clearToastTimers(toastElement)
          record.swipe.pointerId = event.pointerId
          record.swipe.startX = event.clientX
          record.swipe.startY = event.clientY
          record.swipe.deltaX = 0
          record.swipe.axis = null
          record.swipe.isDragging = false
        }

        function onMobileToastPointerMove(event) {
          const toastElement = event.currentTarget
          if (!(toastElement instanceof HTMLElement)) return
          const record = getToastRecord(toastElement)
          if (!record) return
          if (record.swipe.pointerId !== event.pointerId) return
          if (record.swipe.isClosing) return

          const dx = event.clientX - record.swipe.startX
          const dy = event.clientY - record.swipe.startY

          if (record.swipe.axis === null) {
            if (Math.abs(dx) < 8 && Math.abs(dy) < 8) return
            record.swipe.axis = Math.abs(dx) > Math.abs(dy) * 1.1 ? 'x' : 'y'
          }

          if (record.swipe.axis !== 'x') return

          const dragX = Math.min(0, dx)
          if (dragX === 0 && dx >= 0) return

          record.swipe.deltaX = dragX
          record.swipe.isDragging = true

          const fade = Math.max(0.4, 1 - Math.abs(dragX) / 220)
          toastElement.style.transition = 'none'
          toastElement.style.transform = `translate3d(${dragX}px, 0, 0)`
          toastElement.style.opacity = String(fade)

          event.preventDefault()
        }

        function finishMobileToastSwipe(event) {
          const toastElement = event.currentTarget
          if (!(toastElement instanceof HTMLElement)) return
          const record = getToastRecord(toastElement)
          if (!record) return
          if (record.swipe.pointerId !== event.pointerId) return

          const shouldHandleSwipe = record.swipe.axis === 'x' && record.swipe.isDragging
          const dragX = record.swipe.deltaX
          record.ignoreNextClick = shouldHandleSwipe
          resetToastSwipePointerState(toastElement)

          if (!shouldHandleSwipe) {
            if (toastElement.dataset.visible === 'true') {
              record.hideTimerId = window.setTimeout(() => {
                hideMobileToast(toastElement)
              }, MOBILE_TOAST_DURATION_MS)
            }
            return
          }

          const closeThreshold = Math.max(72, toastElement.clientWidth * 0.2)
          if (Math.abs(dragX) >= closeThreshold) {
            dismissMobileToastBySwipe(toastElement)
            return
          }

          toastElement.style.transition = 'transform 170ms var(--ease-out), opacity 170ms var(--ease-out)'
          toastElement.style.transform = 'translate3d(0, 0, 0)'
          toastElement.style.opacity = '1'

          record.settleTimerId = window.setTimeout(() => {
            resetMobileToastGestureStyles(toastElement)
            record.settleTimerId = null
          }, 170)
          record.hideTimerId = window.setTimeout(() => {
            hideMobileToast(toastElement)
          }, MOBILE_TOAST_DURATION_MS)
        }

        function attachMobileToastEvents(toastElement) {
          if (!(toastElement instanceof HTMLElement)) return
          toastElement.addEventListener('pointerdown', onMobileToastPointerDown)
          toastElement.addEventListener('pointermove', onMobileToastPointerMove, { passive : false })
          toastElement.addEventListener('pointerup', finishMobileToastSwipe)
          toastElement.addEventListener('pointercancel', finishMobileToastSwipe)
          toastElement.addEventListener('click', onMobileToastClick)
        }

        // Renders dock + shell state from the current selection and "expanded/minimized" flag.
        // In production, this should become derived UI state from the main app's source of truth.
        function renderState() {
          const hasCurrent = currentWindowDockButton instanceof HTMLButtonElement
          if (!hasCurrent) {
            root.dataset.mobileAppState = 'minimized'
            delete root.dataset.mobileCurrentApp
          }

          const expanded = hasCurrent && isExpanded()
          toggleButton.disabled = !hasCurrent
          toggleButton.setAttribute('aria-disabled', String(!hasCurrent))
          toggleButton.setAttribute('aria-pressed', String(expanded))

          if (hasCurrent) {
            toggleButton.setAttribute('aria-label', expanded ? 'Minimize current app' : 'Expand current app')
            if (toggleTooltip instanceof HTMLElement) {
              toggleTooltip.textContent = expanded ? 'Hide App' : 'Show App'
            }
          } else {
            toggleButton.setAttribute('aria-label', 'Select an app to enable minimize or restore')
            if (toggleTooltip instanceof HTMLElement) {
              toggleTooltip.textContent = 'No App'
            }
          }

          for (const button of dockWindowButtons) {
            const isCurrent = button === currentWindowDockButton
            button.classList.toggle('dock-launch--active', isCurrent && expanded)
            button.classList.toggle('dock-launch--minimized', isCurrent && hasCurrent && !expanded)
          }
        }

        // "Hide" / unselect current app (returns to desktop, but keeps the app open in the dock).
        // This is triggered by re-clicking the currently selected dock icon.
        function clearCurrentApp() {
          if (!(currentWindowDockButton instanceof HTMLButtonElement)) return

          const itemId = currentWindowDockButton.dataset.itemId
          const label = itemId ? getItemLabel(itemId) : 'app'

          currentWindowDockButton.removeAttribute('data-mobile-current-window')
          currentWindowDockButton.setAttribute('aria-label', `Open ${label} app`)
          currentWindowDockButton = null

          root.dataset.mobileAppState = 'minimized'
          delete root.dataset.mobileCurrentApp

          if (appTitle instanceof HTMLElement) {
            appTitle.textContent = 'Select an App'
          }

          resetAppSurfaceSwipeStyles()
          renderState()
        }

        // "Close" current app (removes dock entry entirely).
        // This is currently used by swipe-left on the app surface to simulate mobile card-dismiss behavior.
        function closeCurrentApp(options = {}) {
          if (!(currentWindowDockButton instanceof HTMLButtonElement)) return

          const { preserveSwipeStyles = false } = options
          const closingButton = currentWindowDockButton

          currentWindowDockButton = null
          closingButton.removeAttribute('data-mobile-current-window')
          closingButton.remove()

          refreshDockWindowButtons()
          root.dataset.mobileAppState = 'minimized'
          delete root.dataset.mobileCurrentApp

          if (appTitle instanceof HTMLElement) {
            appTitle.textContent = 'Select an App'
          }

          if (!preserveSwipeStyles) {
            resetAppSurfaceSwipeStyles()
          }

          renderState()
        }

        // Select/open app flow:
        // 1) find existing dock icon or create one if the app was launched from desktop and not already open
        // 2) mark it as current
        // 3) expand the app surface
        // 4) sync title + dock visual states
        function setCurrentApp(itemId, sourceDockButton) {
          if (!itemId) return

          refreshDockWindowButtons()
          const existingDockButton =
            sourceDockButton instanceof HTMLButtonElement
              ? sourceDockButton
              : dockWindowButtons.find((button) => button.dataset.itemId === itemId)
          const targetDockButton = existingDockButton instanceof HTMLButtonElement
            ? existingDockButton
            : ensureDockWindowButton(itemId)
          if (!(targetDockButton instanceof HTMLButtonElement)) return

          if (currentWindowDockButton instanceof HTMLButtonElement && currentWindowDockButton !== targetDockButton) {
            currentWindowDockButton.removeAttribute('data-mobile-current-window')
          }

          targetDockButton.setAttribute('data-mobile-current-window', '')
          currentWindowDockButton = targetDockButton
          root.dataset.mobileCurrentApp = itemId
          root.dataset.mobileAppState = 'expanded'
          resetAppSurfaceSwipeStyles()

          const label = getItemLabel(itemId)
          currentWindowDockButton.setAttribute('aria-label', `Show ${label} app`)

          const currentTooltip = currentWindowDockButton.querySelector('.dock-tooltip')
          if (currentTooltip instanceof HTMLElement) currentTooltip.textContent = label
          if (appTitle instanceof HTMLElement) appTitle.textContent = label

          revealDockWindowButton(currentWindowDockButton)
          renderState()
        }

        // Dock control button = shell-level maximize/minimize (show/hide current app surface). It does not close/remove the app.
        toggleButton.addEventListener('click', () => {
          if (!(currentWindowDockButton instanceof HTMLButtonElement)) return
          const nextState = isExpanded() ? 'minimized' : 'expanded'
          resetAppSurfaceSwipeStyles()
          root.dataset.mobileAppState = nextState
          renderState()
        })

        // Fixture test trigger: use the existing theme button to preview the mobile overlay toast behavior.
        if (themeButton instanceof HTMLButtonElement) {
          themeButton.addEventListener('click', () => {
            showMobileToast({
              title   : 'Theme Switch',
              message : 'Mobile notification-style toast test. Theme wiring remains fixture-only for now.',
            })
          })
        }

        // Swipe-left gesture on the app surface:
        // - preserve vertical scrolling (axis lock)
        // - treat strong horizontal-left swipe as "close app" and remove dock icon
        function onAppSurfacePointerDown(event) {
          if (swipeState.isClosing) return
          if (!isExpanded()) return
          if (!(currentWindowDockButton instanceof HTMLButtonElement)) return
          if (event.pointerType === 'mouse' && event.button !== 0) return

          clearSwipeSettleTimer()
          swipeState.pointerId = event.pointerId
          swipeState.startX = event.clientX
          swipeState.startY = event.clientY
          swipeState.deltaX = 0
          swipeState.axis = null
          swipeState.isDragging = false
        }

        function onAppSurfacePointerMove(event) {
          if (swipeState.pointerId !== event.pointerId) return
          if (swipeState.isClosing) return

          const dx = event.clientX - swipeState.startX
          const dy = event.clientY - swipeState.startY

          if (swipeState.axis === null) {
            if (Math.abs(dx) < 10 && Math.abs(dy) < 10) return
            swipeState.axis = Math.abs(dx) > Math.abs(dy) * 1.15 ? 'x' : 'y'
          }

          if (swipeState.axis !== 'x') return

          const dragX = Math.min(0, dx)
          if (dragX === 0 && dx >= 0) return

          swipeState.deltaX = dragX
          swipeState.isDragging = true

          const rotateDeg = Math.max(-7, dragX / 28)
          const fade = Math.max(0.62, 1 - Math.abs(dragX) / 360)

          appSurface.style.transition = 'none'
          appSurface.style.transform = `translate3d(${dragX}px, 0, 0) rotate(${rotateDeg}deg)`
          appSurface.style.opacity = String(fade)

          event.preventDefault()
        }

        function finishAppSurfaceSwipe(event) {
          if (swipeState.pointerId !== event.pointerId) return

          const shouldHandleSwipe = swipeState.axis === 'x' && swipeState.isDragging
          const dragX = swipeState.deltaX

          resetSwipePointerState()

          if (!shouldHandleSwipe) return
          if (!(currentWindowDockButton instanceof HTMLButtonElement)) {
            resetAppSurfaceSwipeStyles()
            return
          }

          const closeThreshold = Math.max(96, appSurface.clientWidth * 0.22)
          if (Math.abs(dragX) >= closeThreshold) {
            swipeState.isClosing = true
            const travel = -Math.max(appSurface.clientWidth + 64, window.innerWidth || 0)
            appSurface.style.transition = 'transform 220ms var(--ease-out), opacity 220ms var(--ease-out)'
            appSurface.style.transform = `translate3d(${travel}px, 0, 0) rotate(-8deg)`
            appSurface.style.opacity = '0.24'

            clearSwipeSettleTimer()
            swipeState.settleTimeoutId = window.setTimeout(() => {
              closeCurrentApp({ preserveSwipeStyles : true })
              swipeState.isClosing = false
              swipeState.settleTimeoutId = null
              window.requestAnimationFrame(() => {
                resetAppSurfaceSwipeStyles()
              })
            }, 220)
            return
          }

          appSurface.style.transition = 'transform 180ms var(--ease-out), opacity 180ms var(--ease-out)'
          appSurface.style.transform = 'translate3d(0, 0, 0) rotate(0deg)'
          appSurface.style.opacity = '1'

          clearSwipeSettleTimer()
          swipeState.settleTimeoutId = window.setTimeout(() => {
            resetAppSurfaceSwipeStyles()
            swipeState.settleTimeoutId = null
          }, 180)
        }

        appSurface.addEventListener('pointerdown', onAppSurfacePointerDown)
        appSurface.addEventListener('pointermove', onAppSurfacePointerMove, { passive : false })
        appSurface.addEventListener('pointerup', finishAppSurfaceSwipe)
        appSurface.addEventListener('pointercancel', finishAppSurfaceSwipe)

        for (const button of dockWindowButtons) {
          bindDockWindowButton(button)
        }

        // Desktop shortcuts launch apps into the dock model:
        // - existing dock item => select it
        // - missing dock item => add it, then select it
        for (const button of document.querySelectorAll('.mobile-home-icon-grid .desktop-icon[data-item-id]')) {
          if (!(button instanceof HTMLButtonElement)) continue
          button.addEventListener('click', () => {
            const itemId = button.dataset.itemId
            if (!itemId) return
            if (openExternalLink(itemId)) return
            setCurrentApp(itemId)
          })
        }

        renderState()
        window.setTimeout(() => {
          // Schedule the follow-up before the Welcome toast is created so the two callbacks fire in that order
          // at the 5s mark. The Welcome toast intentionally stays up slightly longer in this fixture so both
          // notifications are clearly visible at once before Welcome exits upward and LinkedIn floats up.
          window.setTimeout(() => {
            showMobileToast({
              title      : 'LinkedIn',
              message    : 'Go visit my LinkedIn profile.',
              url        : externalLinkById.linkedin,
              ctaLabel   : 'Click to open',
              ctaVariants: ['soft'],
              duration   : MOBILE_TOAST_DURATION_MS,
            })
          }, LINKEDIN_FOLLOWUP_DELAY_MS)

          showMobileToast({
            title   : 'Welcome',
            message : 'Click an icon to open an app. Click the dock bar to open or minimize an app. Swipe left to close an app.',
            duration: WELCOME_TOAST_DURATION_MS,
          })
        }, WELCOME_TOAST_DELAY_MS)
      })()
    </script>
    <!--
      MIGRATION CHECKLIST (fixture -> main app)
      1. Replace hard-coded topbar markup with real mobile/topbar rendering (preserve .topbar/.locale-toggle/.topbar-icon-btn contracts).
      2. Replace hard-coded desktop icon grid with registry-driven DesktopIcon rendering from src/data/registry.ts.
      3. Replace hard-coded dock buttons with Dock.vue-driven open-window/app state (preserve .dock/.dock-tray/.dock-launch contracts).
      4. Replace placeholder app-surface cards with real mobile app content mounted in the main workspace row.
      5. Map fixture behaviors (select/hide/close/add/swipe) into the main app window state instead of DOM-driven JS in this file.
      6. Remove fixture-only inline JS and fixture-only comments once production state/rendering fully owns the UI.
      7. Swap standalone asset paths (../desktop-portfolio/public/...) back to app-root/Vite-managed paths.
    -->
  </body>
</html>
